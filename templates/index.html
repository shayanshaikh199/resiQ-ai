<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>ResIQ AI</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
<div class="page">

<header class="header">
    <h1>ResIQ AI</h1>
    <p>AI-powered resume matching & improvement</p>
</header>

<main class="card">

<form method="post" action="/analyze" enctype="multipart/form-data">
    <div class="inputs">

        <div class="input-group">
            <label>Resume (PDF)</label>
            <input type="file" name="resume_pdf" accept=".pdf" required>
        </div>

        <div class="input-group">
            <label>Job Description</label>
            <textarea name="job_text" required></textarea>
        </div>

    </div>

    <button type="submit" class="analyze-btn">Analyze Resume</button>
</form>

{% if result %}
<div class="result-card">
    <h2>Result</h2>

    <div class="badge {{ 'match' if result.prediction == 1 else 'nomatch' }}">
        {{ "Match" if result.prediction == 1 else "No Match" }}
    </div>

    <p class="confidence">
        Semantic Similarity Score:
        <strong>{{ result.confidence }}</strong>
    </p>

    {% if result.uncertain %}
    <p class="warning">⚠️ Model is uncertain</p>
    {% endif %}

    {% if result.ai_explanation %}
    <div class="explanation">
        <h3>AI Explanation & Resume Tips</h3>
        <pre>{{ result.ai_explanation }}</pre>
    </div>
    {% endif %}
</div>
{% endif %}

</main>

<footer class="footer">
    <p>Decision logic by ResIQ AI · Explanations powered by Gemini</p>
</footer>

</div>
</body>
</html>
